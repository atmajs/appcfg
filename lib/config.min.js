/*!
 * config v0.0.1
 *
 * MIT license
 * http://opensource.org/licenses/MIT
 *
 * (c) 2012, 2014
 */
(function(n,e){"use strict";function t(){return e(i,o)}var o,i="undefined"==typeof window||null==window.navigator?global:window;return o=n||i,"function"==typeof define&&define.amd?define(t):(t(),"undefined"!=typeof module&&(module.exports=o.Config),void 0)})(this,function(n,e){"use strict";var t,o;(function(){o=n.atma&&n.atma.Class||n.Class,t=n.io||require("atma-io")})();var i={},r=o.Collection(Object,{Base:o.Await,add:function(n){return n.length&&"function"==typeof n.forEach?(n.forEach(function(n){this.push(n)},this),void 0):(this.push(n),void 0)}}),a={loadSources:function(n){var e,t,o,a=n.length,u=-1,d=new r;n:for(;a>++u;){o=n[u];for(t in i)if(e=i[handlerNmae],e.canHandle(o)){d.add(new e(o));continue n}logger.error("<unhandled configuration source>",o)}for(u=d.length;--u>-1;)d[u].read().always(d.delegate(null,!1));return d},register:function(n,e){i[n](e)}},u=o({Base:o.Deferred,Construct:function(n){this.data=n},read:function(){var n=this;return a.loadSources(this.data).done(function(){this.each(function(e){obj_deepExtend(n,e.config)}),n.resolve()}),n}});return e.Config=u});