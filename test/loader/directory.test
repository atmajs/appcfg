UTest({
	'should load yml': function(){
		return Config
			.fetch({
				path: 'test/config/**.yml'
			})
			.done(config => has_(config, {
				foo: 'foo',
				bar: 'bar',
				combi: {
					foo: 'foo',
					bar: 'bar'
				}
			}));
	},
	
	'should load CommonJS modules': function(){
		return Config
			.fetch(
				{ path: 'test/config/**.js' }
			)
			.done(config =>  eq_(config.combi.module, 'module'));
	},
	
	'should support many sources': function(){
		return Config
			.fetch([
				{ path: 'test/config/**.js' },
				{ path: 'test/config/**.yml' }
			])
			.done(config => has_(config, {
				foo: 'foo',
				bar: 'bar',
				combi: {
					foo: 'foo',
					bar: 'bar',
					module: 'module'
				}
			}));
	},
	'should support many `$read` calls': function(){
		return new Config()
			.$read('test/config/foo.yml')
			.$read('test/config/bar/*.yml')
			.$read('test/config/module.js')
			.done(config => has_(config, {
				foo: 'foo',
				bar: 'bar',
				combi: {
					foo: 'foo',
					bar: 'bar',
					module: 'module'
				}
			}));
	}
});